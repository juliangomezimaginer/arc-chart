$chart-size: 800px;
$value-1: 70;

$dot-value-1: 40;
$value-2: 40;

$dot-value-2: 20;
$value-3: 20;

$dot-size: 1.5;
$dash-size: 1.41501;
$normalized-dash-size: $dash-size * $chart-size;
$normalized-dot-size: $chart-size * $dot-size/100;
$dot-init-x: 3.8%;
$dot-init-y: 49%;

.chart-container {
  position: relative;
  width: $chart-size;
  height: $chart-size;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: rgb(240, 240, 240);
  overflow: hidden;
}

.chart {
  position: relative;
  width: 100%;
  height: 100%;
}

.dot {
  position: absolute;
  background-color: transparent;
  width: 100%;
  height: 100%;
  inset: 0;
  z-index: 1;
  &::before {
    content: "";
    position: absolute;
    width: $normalized-dot-size;
    height: $normalized-dot-size;
    background-color: black;
    left: $dot-init-x;
    bottom: $dot-init-y;
    border-radius: 50%;
    border: #{$normalized-dot-size * 0.3} solid #ffffff;
  }
}

.dot-1 {
  transform: rotate(calc(180deg * #{$dot-value-1}/ 100));
  &::before {
    background-color: #ffac4a;
  }
}

.dot-2 {
  transform: rotate(calc(180deg * #{$dot-value-2}/ 100));
  &::before {
    background-color: #ff6b6b;
  }
}

.percentage {
  position: relative;
  width: 100%;
  height: 100%;
  background-color: #ffffff;

  svg {
    transform: rotateY(180deg);
    width: 100%;
    height: 100%;
    circle {
      width: 100%;
      height: 100%;
      cx: 50%;
      cy: 50%;
      r: 45%;
      fill: transparent;
      stroke-width: 1.25%;
      stroke: #e6e6f4;
      stroke-linecap: round;
    }
    circle:nth-child(1) {
      stroke-dasharray: $normalized-dash-size;
      stroke-dashoffset: $normalized-dash-size;
    }

    circle:nth-child(2) {
      stroke-width: 2%;
      stroke: #0ad17d;
      stroke-dasharray: calc(
        2 * #{$normalized-dash-size} - (#{$normalized-dash-size}* #{$value-1}) /
          100
      );
      stroke-dashoffset: calc(
        2 * #{$normalized-dash-size} - (#{$normalized-dash-size}* #{$value-1}) /
          100
      );
    }

    circle:nth-child(3) {
      stroke-width: 2%;
      stroke: #ffac4a;
      stroke-dasharray: calc(
        2 * #{$normalized-dash-size} - (#{$normalized-dash-size}* #{$value-2}) /
          100
      );
      stroke-dashoffset: calc(
        2 * #{$normalized-dash-size} - (#{$normalized-dash-size}* #{$value-2}) /
          100
      );
    }

    circle:nth-child(4) {
      stroke-width: 2%;
      stroke: #ff6b6b;
      stroke-dasharray: calc(
        2 * #{$normalized-dash-size} - (#{$normalized-dash-size}* #{$value-3}) /
          100
      );
      stroke-dashoffset: calc(
        2 * #{$normalized-dash-size} - (#{$normalized-dash-size}* #{$value-3}) /
          100
      );
    }
  }
}
